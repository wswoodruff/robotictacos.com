var w=Object.defineProperty;var f=(a,t,i)=>t in a?w(a,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[t]=i;var e=(a,t,i)=>f(a,typeof t!="symbol"?t+"":t,i);import"../cawad-regular-LUVKtMNm.js";import{V as l,Q as u,E as g,i as m,A as o,f as k,a as v,b,c as A,g as S,P as L,L as D,d as E,S as T,h as j,j as z}from"../superneatlib-CKHqtxPn.js";class O{constructor({object:t,store:i,turnSpeed:n=.1,allowTurning:s=!0,allowTilt:r=!0,speed:h=.2,damping:p=.07,friction:y=1,deets:F={}}){e(this,"keys",{ArrowUp:!1,ArrowDown:!1,ArrowLeft:!1,ArrowRight:!1,KeyW:!1,KeyS:!1});e(this,"frameID",-1);e(this,"targetObject",null);e(this,"enabled",!1);e(this,"damping",.07);e(this,"velocity",new l);e(this,"speed",.02);e(this,"acceleration",new l);e(this,"gravity",new l);e(this,"friction",0);e(this,"turnSpeed",.1);e(this,"allowTurning",!0);e(this,"allowTilt",!0);e(this,"forward",new l(0,0,-1));e(this,"direction",new l);e(this,"targetRotation",new u);e(this,"eulerR",new g);e(this,"pawnForward",new l);this.targetObject=t,this.allowTurning=s,this.allowTilt=r,this.damping=p,this.speed=h,this.friction=y,this.turnSpeed=n,document.addEventListener("keydown",this.keyDownEvents.bind(this)),document.addEventListener("keyup",this.keyUpEvents.bind(this)),this.enabled=!0;const c=this;function d(){c.enabled&&(c.frameID=requestAnimationFrame(d)),c.applyForces()}d()}applyForces(){const t=this.targetObject,i=this.damping,n=this.velocity,s=this.speed;this.friction;const r=this.acceleration;r.add(this.gravity),this.keys.ArrowLeft&&(r.x-=s),this.keys.ArrowRight&&(r.x+=s),this.keys.ArrowUp&&(r.z-=s),this.keys.ArrowDown&&(r.z+=s),this.keys.KeyW&&(r.y+=s),this.keys.KeyS&&(r.y-=s),n.multiplyScalar(i),n.add(r),r.set(0,0,0),t.position.add(n),this.allowTurning&&this.applyTurning(),this.allowTilt&&this.applyTilt()}applyTilt(){const t=Math.PI*2,i=this.targetObject,n=this.velocity;n.length()>1e-6&&(i.rotation.x=-n.z*t,i.rotation.z=n.x*t,i.rotation.y=n.y*t)}applyTurning(){const t=this.velocity,i=this.targetObject;this.direction.set(t.x,0,t.z).normalize(),this.pawnForward.set(0,0,1),this.targetRotation.setFromUnitVectors(this.pawnForward,this.direction),this.turnSpeed=.1,t.length()>1e-6&&i.quaternion.slerp(this.targetRotation,this.turnSpeed)}destroy(){document.removeEventListener("keydown",this.keyDownEvents),document.removeEventListener("keydown",this.keyUpEvents),cancelRequestAnimationFrame(_this.frameID)}keyDownEvents(t){this.keys.hasOwnProperty(t.code)&&(this.keys[t.code]=!0)}keyUpEvents(t){this.keys.hasOwnProperty(t.code)&&(this.keys[t.code]=!1)}}async function P(){const a=o;m(o),k(o),v(o),b(o),A(o),S({store:o,type:"y"});const t=o.scene,i=o.camera;o.renderer;const n=new L(16777215,2,100);n.position.set(5,5,5),t.add(n),D.hemisphereLight(o.scene),i.position.z=.5,i.position.y=.5;const s=E.cubey({store:o,scale:.1,color:65535});s.position.set(0,.1,0),s.scale.setScalar(.2),T.decoSuper3D(s),o.addObject3D(s),s.material=new j({color:16755234}),s.add(new z({store:a,size:1,letterSize:.2})),new O({store:a,object:s,friction:0,damping:.82002,speed:.007,allowTilt:!0,allowTurning:!1}),console.log("dijdiojsod2222"),window.cubey=s,i.position.set(0,.05,0),i.position.set(0,.6,.5)}function x(){P()}x();console.log("sldknldkfnglk");
